{"version":3,"sources":["webpack:///src/page/goodsManage/components/AddBrand.vue","webpack:///./src/page/goodsManage/components/AddBrand.vue?1567","webpack:///./src/page/goodsManage/components/AddBrand.vue","webpack:///src/page/goodsManage/BrandManage.vue","webpack:///./src/page/goodsManage/BrandManage.vue?3584","webpack:///./src/page/goodsManage/BrandManage.vue"],"names":["AddBrand","data","dialogVisible","title","brandName","logoPic","baseUrl","imageUrl","options","loading","curBrandId","props","mounted","this","env","methods","opSave","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","image_url","brand_name","id","Object","api_getData","sent","code","$message","showClose","message","type","$parent","getData","stop","doSave","showBrandPop","row","image_url_full","handleClose","beforeAvatarUpload","file","isPic","isLt","size","error","handleAvatarSuccess","URL","createObjectURL","raw","url","imgId","components_AddBrand","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","visible","width","before-close","on","update:visible","$event","staticStyle","placeholder","model","value","callback","$$v","expression","_v","before-upload","action","show-file-list","on-success","src","click","_s","staticRenderFns","BrandManage","curPage","page_size","total","origionPic","tableData","components","__webpack_require__","normalizeComponent","ssrContext","page","handleCurrentChange","previewImg","imgStr","doSearch","addBrand","$refs","editRow","opDel","_this2","_callee2","_context2","doDel","_this3","$confirm","confirmButtonText","cancelButtonText","then","goodsManage_BrandManage","span","prop","label","scopedSlots","_u","key","fn","scope","alt","ref","current-page","page-size","layout","current-change","update:currentPage","update:current-page","BrandManage_Component","BrandManage_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/6.05cb520debdd8236ba5d.js","sourcesContent":["<template>\n    <div>\n        <el-dialog\n            class=\"virForm\"\n            :title=\"title\"\n            :visible.sync=\"dialogVisible\"\n            width=\"30%\"\n            :before-close=\"handleClose\">\n            <el-row class=\"flex mb2\">\n                <el-input style=\"width:300px;\"  v-model=\"brandName\" placeholder=\"请输入品牌名称\"></el-input>\n            </el-row>\n            <el-row class=\"flex ruleForm\">\n                <!-- <img v-if=\"logoPic\" class=\"logo\"  :src=\"logoPic\" alt=\"\"> -->\n                <el-row class=\"vFlex\">\n                    <el-upload\n                        class=\"avatar-uploader\"\n                        :before-upload=\"beforeAvatarUpload\"\n                        :action=\"baseUrl+'/admin/upload/img'\"\n                        :show-file-list=\"false\"\n                        :on-success=\"handleAvatarSuccess\"\n                        >\n                        <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                    </el-upload>\n                    <el-row class=\"mt2\">格式：png、jpg；尺寸：M*N；200K以内</el-row>\n                </el-row>\n            </el-row>\n            <el-row class=\"flex mt2\">\n                <el-button type=\"primary\" @click=\"doSave\">{{title=='新增品牌'?'新增品牌':'保存'}}</el-button>\n            </el-row>\n        </el-dialog>\n    </div>\n</template>\n<script>\nimport { baseUrl } from '../../../config/env'\nimport { opBrand } from '../../../api/getData'\nexport default {\n    data(){\n        return{\n            dialogVisible:false,\n            title:'新增品牌',\n            brandName:\"\",\n            logoPic:'',//已存在品牌logo\n            baseUrl:'',\n            imageUrl:'',//上传logo\n            options:[],//下拉展示品牌\n            loading:false,\n            curBrandId:''\n        }\n    },\n    props:['source'],\n    mounted() {\n        this.baseUrl = baseUrl;\n        \n    },\n    methods:{\n        async opSave(){\n            let data = {};\n            if(this.curBrandId){\n                data ={\n                    image_url:this.logoPic,\n                    brand_name:this.brandName,\n                    id:this.curBrandId\n                }\n            }else{\n                data ={\n                    image_url:this.logoPic,\n                    brand_name:this.brandName,\n                }\n            }\n            let res = await opBrand(data);\n            if(res.code == 0){\n                this.$message({\n                    showClose: true,\n                    message: '创建成功',\n                    type: 'success'\n                });\n                this.$parent.getData();\n                this.dialogVisible = false;\n            }else{\n                this.$message({\n                    showClose: true,\n                    message: res.message,\n                    type: 'error'\n                });\n            }\n        },\n        doSave(){\n            if(!this.brandName){\n                this.$message({\n                    showClose: true,\n                    message: '请输入品牌名称',\n                    type: 'warning'\n                });\n                return;\n            }else if(!this.logoPic){\n                this.$message({\n                    showClose: true,\n                    message: '请上传品牌图片',\n                    type: 'warning'\n                });\n                return;\n            }else{\n                this.opSave();\n            }\n        },\n        showBrandPop(row){\n            this.dialogVisible = true;\n            \n            if(row){\n                this.title = '编辑品牌';\n                this.curBrandId = row.id;\n                this.logoPic = row.image_url;\n                this.brandName = row.brand_name; \n                this.imageUrl = row.image_url_full;\n            }else{\n                this.title = '新增品牌';\n                this.curBrandId = '';\n                this.logoPic = '';\n                this.brandName = ''; \n                this.imageUrl = '';\n            }\n        },\n        handleClose(){\n            this.dialogVisible = false;\n            this.brandName = '';\n            this.logoPic = '';\n            this.imageUrl = '';\n        },\n        beforeAvatarUpload(file){\n            \n            const isPic =  file.type === 'image/png' || file.type === 'image/jpg'|| file.type === 'image/jpeg';\n            const isLt = file.size / 1024 / 1024 < 0.2;\n            \n            if (!isPic) {\n                this.$message.error('上传图片格式有误!');\n                return false;\n            }\n            if (!isLt) {\n                this.$message.error('上传图片大小不能超过 200k!');\n                return false\n            }\n            return true;\n        },\n        handleAvatarSuccess(res, file) {\n            \n            this.imageUrl = URL.createObjectURL(file.raw);\n            this.logoPic = res.data.url;\n            this.imgId = res.data.id;\n        },\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n    .vFlex{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n    }\n    .flex{\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n    .mb2{\n        margin-bottom: 20px;\n    }\n    .mt2{\n        margin-top: 20px;\n    }\n    .logo{\n        width: 100px;\n        height: 100px;\n    }\n    .virForm  .avatar-uploader .el-upload {\n        border: 1px dashed #d9d9d9!important;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n    .avatar-uploader .el-upload:hover {\n        border-color: #409EFF;\n    }\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 145px;\n        height: 145px;\n        line-height: 145px;\n        text-align: center;\n    }\n    .avatar {\n        width: 145px;\n        height: 145px;\n        display: block;\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/goodsManage/components/AddBrand.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{staticClass:\"virForm\",attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-row',{staticClass:\"flex mb2\"},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请输入品牌名称\"},model:{value:(_vm.brandName),callback:function ($$v) {_vm.brandName=$$v},expression:\"brandName\"}})],1),_vm._v(\" \"),_c('el-row',{staticClass:\"flex ruleForm\"},[_c('el-row',{staticClass:\"vFlex\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"before-upload\":_vm.beforeAvatarUpload,\"action\":_vm.baseUrl+'/admin/upload/img',\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_vm._v(\" \"),_c('el-row',{staticClass:\"mt2\"},[_vm._v(\"格式：png、jpg；尺寸：M*N；200K以内\")])],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"flex mt2\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doSave}},[_vm._v(_vm._s(_vm.title=='新增品牌'?'新增品牌':'保存'))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21d01d92\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/goodsManage/components/AddBrand.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21d01d92\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddBrand.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddBrand.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddBrand.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21d01d92\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddBrand.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-21d01d92\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/goodsManage/components/AddBrand.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"content\">\n        <el-row class=\"flex mb2\">\n            <el-col :span=\"20\">\n                <el-input style=\"width:200px\" v-model=\"brandName\" placeholder=\"请输入品牌名称\"></el-input>\n                <el-button type=\"primary\" @click=\"doSearch\">查询品牌</el-button>\n            </el-col>\n            <el-col :span=\"4\">\n                <el-button type=\"primary\" @click=\"addBrand\">新增品牌</el-button>\n            </el-col>\n        </el-row>\n        <el-table\n            :data=\"tableData\"\n            >\n            <el-table-column\n            prop=\"id\"\n            label=\"编号\"\n            >\n            </el-table-column>\n            <el-table-column\n                label=\"商标图\"\n            >\n                <template slot-scope=\"scope\">\n                    <img class=\"smallPic\" \n                        :src=\"scope.row.image_url_full\" alt=\"\" \n                        @click=\"previewImg(scope.row.image_url_full)\"\n                    >\n                </template>\n            </el-table-column>\n            <el-table-column\n            prop=\"brand_name\"\n            label=\"品牌\"\n            >\n            </el-table-column>\n            <!-- <el-table-column\n            prop=\"address\"\n            label=\"商品分类\">\n            </el-table-column> -->\n            <el-table-column\n            label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button type=\"text\" @click=\"editRow(scope.row)\">编辑</el-button>\n                    <el-button type=\"text\" @click=\"doDel(scope.row)\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <AddBrand ref=\"addBrand\"></AddBrand>\n        <el-pagination\n            class=\"pubPagation\"\n            @current-change=\"handleCurrentChange\"\n            :current-page.sync=\"curPage\"\n            :page-size=\"10\"\n            layout=\"prev, pager, next, jumper\"\n            :total=\"total\">\n        </el-pagination>\n        <el-dialog :visible.sync=\"dialogVisible\" >\n            <img width=\"100%\" :src=\"origionPic\" alt=\"\">\n        </el-dialog>\n    </div>\n</template>\n<script>\nimport AddBrand from './components/AddBrand';\nimport { brandList ,delBrand} from '../../api/getData'\nexport default {\n    data(){\n        return{\n            brandName:'',\n            curPage:1,\n            page_size:10,\n            total:0,\n            dialogVisible:false,//大图预览器是否展示\n            origionPic:'',//图片预览器展示图片路径\n            tableData: []\n        }\n    },\n    components:{\n        AddBrand,\n    },\n    mounted(){\n        this.getData();\n    },\n    methods:{\n        async getData(){\n            let res = await brandList({page:this.curPage,page_size:this.page_size,brand_name:this.brandName});\n            if(res.code == 0){\n                this.tableData = res.data.data;\n                this.total = res.data.total;\n            }\n        },\n        handleCurrentChange(curPage){\n            this.curPage = curPage;\n            this.getData();\n        },\n        previewImg(imgStr){\n            this.dialogVisible = true;\n            this.origionPic = imgStr;\n        },\n        doSearch(){\n            this.curPage = 1;\n            this.getData();\n        },\n        addBrand(){\n            this.$refs.addBrand.showBrandPop();\n        },\n        editRow(row){\n            this.$refs.addBrand.showBrandPop(row);\n        },\n        async opDel(row){\n            let res = await delBrand({id:row.id});\n            if(res.code == 0){\n                this.$message({\n                    showClose: true,\n                    message: '操作成功',\n                    type: 'success'\n                });\n                this.getData();\n            }else{\n                this.$message({\n                    showClose: true,\n                    message: res.message,\n                    type: 'error'\n                });\n            }\n        },\n        doDel(row){\n            this.$confirm('此操作将删除该品牌, 是否继续?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(() => {\n                this.opDel(row)\n            })\n        }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n    .flex{\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n    .mb2{\n        margin-bottom: 20px;\n    }\n    .content  .pubPagation{\n        margin-top: 20px;\n        float: right;\n    }\n    .smallPic{\n        width: 60px;\n        height: 60px;\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/goodsManage/BrandManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('el-row',{staticClass:\"flex mb2\"},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入品牌名称\"},model:{value:(_vm.brandName),callback:function ($$v) {_vm.brandName=$$v},expression:\"brandName\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doSearch}},[_vm._v(\"查询品牌\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addBrand}},[_vm._v(\"新增品牌\")])],1)],1),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商标图\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"smallPic\",attrs:{\"src\":scope.row.image_url_full,\"alt\":\"\"},on:{\"click\":function($event){return _vm.previewImg(scope.row.image_url_full)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"brand_name\",\"label\":\"品牌\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.editRow(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.doDel(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('AddBrand',{ref:\"addBrand\"}),_vm._v(\" \"),_c('el-pagination',{staticClass:\"pubPagation\",attrs:{\"current-page\":_vm.curPage,\"page-size\":10,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.curPage=$event},\"update:current-page\":function($event){_vm.curPage=$event}}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.origionPic,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51fa602f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/goodsManage/BrandManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51fa602f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BrandManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BrandManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BrandManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51fa602f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./BrandManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-51fa602f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/goodsManage/BrandManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}